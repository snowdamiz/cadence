interface:
  display_name: "Brownfield Documenter"
  short_description: "Document existing project context into ideation structures"
  default_prompt: "Resolve PROJECT_ROOT with scripts/resolve-project-root.py --require-cadence, then resolve CADENCE_SCRIPTS_DIR with scripts/resolve-project-scripts-dir.py --project-root \"$PROJECT_ROOT\". Run scripts/check-project-repo-status.py --project-root \"$PROJECT_ROOT\" and treat repo_enabled as authoritative for push/local-only behavior. Run scripts/run-brownfield-documentation.py --project-root \"$PROJECT_ROOT\" discover first (this command performs route assertion internally) and use the output only as helper context to guide deeper AI-led repository investigation. Perform in-depth evidence-based analysis across docs, manifests, entrypoints, major code paths, and test/tooling/deploy surfaces. Build a full ideation payload using the same contract as greenfield ideation, but require only research_agenda for brownfield documentation; non-research planning fields (for example in_scope/out_of_scope/implementation_approach/milestones/constraints) are optional and must be included only when evidenced or user-confirmed. Do not fabricate unknown details; ask focused clarifying questions for high-impact gaps or omit unknown fields and capture uncertainty in assumptions/open_questions. Persist by piping JSON to scripts/run-brownfield-documentation.py --project-root \"$PROJECT_ROOT\" complete --stdin. Do not create extra project tracking files for this flow; persist state in .cadence/cadence.json. Verify with scripts/get-ideation.py and mention scripts/query-ideation-research.py for detailed queries. End successful completion replies with: Start a new chat with a new agent and say \"plan my project\". At end of successful execution, run scripts/finalize-skill-checkpoint.py from PROJECT_ROOT with --scope brownfield-documenter --checkpoint documentation-captured --paths .; allow status=no_changes and surface failures verbatim. Keep user-facing replies concise and do not expose internal command traces unless explicitly requested."
