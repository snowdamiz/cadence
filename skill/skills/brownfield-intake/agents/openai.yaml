interface:
  display_name: "Project Mode Intake"
  short_description: "Classify project mode and capture existing-codebase baseline"
  default_prompt: >-
    Follow skills/brownfield-intake/SKILL.md for exact gate behavior.
    Run scripts/run-skill-entry-gate.py --require-cadence, then use its JSON output for PROJECT_ROOT
    (project_root), CADENCE_SCRIPTS_DIR (cadence_scripts_dir), and push/local-only mode (repo_enabled).
    Never read or edit .cadence/cadence.json directly (including cat/rg/jq/Read); use Cadence scripts for all state reads and writes.
    Enforce the strict user-facing response templates from skills/brownfield-intake/SKILL.md.
    Run scripts/run-brownfield-intake.py --project-root "$PROJECT_ROOT" --project-mode auto.
    In user-facing messages before mode resolution, refer to this step as project mode intake (not brownfield intake).
    Do not ask the user to choose mode up front; clean repositories should resolve to greenfield automatically.
    If the user explicitly asks to force a mode, rerun with --project-mode <greenfield|brownfield>.
    If brownfield is selected, summarize key baseline signals and end with:
    Start a new chat and say "document my existing project".
    Finalize from PROJECT_ROOT with scripts/finalize-skill-checkpoint.py --scope brownfield-intake
    --checkpoint baseline-captured --paths . (allow status=no_changes; surface failures verbatim).
    Keep replies concise and hide internal traces unless asked.
